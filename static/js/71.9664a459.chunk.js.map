{"version":3,"file":"static/js/71.9664a459.chunk.js","mappings":"mLAsFA,QAjFA,SAAeA,GACX,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,IAC/BC,EAAcC,aAAaC,QAAQ,gBAClCC,EAASC,IAAcL,EAAAA,EAAAA,WAAS,IACvCM,EAAAA,EAAAA,YAAU,KACNC,YAAW,KACPF,GAAW,EAAM,GAClB,IAAI,GACR,IAEH,MAAMG,EAAWJ,EAAU,YAAc,WAoCzC,OAlCAE,EAAAA,EAAAA,YAAU,MACNG,iBACI,IACI,MAWMC,SAXiBC,EAAAA,EAAMC,IAAI,qEAAsE,CACnGC,QAAS,CACL,cAAgB,UAADC,OAAYb,IAE/Bc,OAAQ,CACJC,QAAS,KACTC,MAAO,GACPC,KAAM,WACNC,MAAO,WAGiBC,KAAKC,MAAMC,KAAIC,GAAQA,EAAKC,QAC5DzB,EAAUW,EACd,CAAE,MAAOe,GACLC,QAAQD,MAAM,2BAA4BA,EAC9C,CACJ,CAEAE,EAAe,GAChB,CAAC1B,KAaA2B,EAAAA,EAAAA,KAACC,EAAAA,EAAI,CACDC,MAAQ,8BACRC,YAAY,8BAAcC,UAC1BC,EAAAA,EAAAA,MAAA,WAASC,GAAG,UAAUC,UAAW3B,EAASwB,SAAA,EACtCJ,EAAAA,EAAAA,KAAA,MAAAI,SAAI,6CACH/B,GAEO2B,EAAAA,EAAAA,KAAA,OAAKO,UAAU,cAAaH,SACvBlC,EAAOwB,KAAI,CAACE,EAAOY,KAChBR,EAAAA,EAAAA,KAAA,OAAKO,UAAU,QAAOH,UAClBJ,EAAAA,EAAAA,KAAA,OAAKO,UAAU,wBAAuBH,UAClCC,EAAAA,EAAAA,MAACI,EAAAA,GAAI,CAACC,GAAE,WAAAxB,OAAaU,EAAMU,IAAKF,SAAA,EAC5BJ,EAAAA,EAAAA,KAAA,OAAKW,IAAKf,EAAMgB,MAAMC,OAAO,GAAGC,IAAKC,IAAI,iBACzCf,EAAAA,EAAAA,KAAA,QAAAI,UACIJ,EAAAA,EAAAA,KAAA,UAAAI,SAASR,EAAMoB,eALHR,QAapCR,EAAAA,EAAAA,KAAAiB,EAAAA,SAAA,CAAAb,UACIJ,EAAAA,EAAAA,KAAA,OAAKO,UAAU,aAAYH,UACvBJ,EAAAA,EAAAA,KAAA,UAAQkB,QA9BhBC,KAEhBC,OAAOC,SAASC,KAAI,GAAApC,OALHqC,yCAKsB,eAAArC,OAP3BqC,mCAOkD,kBAAArC,OAN9CqC,wBAM2E,mBAAArC,OAJzEqC,QAI0G,EA4BvEnB,SAAC,qEAQ9D,C","sources":["pages/Top50.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Main from '../components/layout/Main';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Top50(props) {\r\n    const [tracks, setTracks] = useState([]);\r\n    const accessToken = localStorage.getItem('accessToken'); // Spotify Ïï°ÏÑ∏Ïä§ ÌÜ†ÌÅ∞\r\n    const [loading, setLoading] = useState(true); \r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        }, 500);\r\n    }, []);\r\n\r\n    const topClass = loading ? 'isLoading' : 'isLoaded';\r\n\r\n    useEffect(() => {\r\n        async function fetchPlaylist() {\r\n            try {\r\n                const response = await axios.get('https://api.spotify.com/v1/playlists/37i9dQZEVXbMDoHDwVN2tF/tracks', {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${accessToken}`\r\n                    },\r\n                    params: {\r\n                        country: 'KR',\r\n                        limit: 50, // Ï∂îÏ≤úÎ∞õÏùÑ ÏùåÏïÖÏùò Ïàò\r\n                        sort: 'added_at', // ÏµúÏã†ÏàúÏúºÎ°ú Ï†ïÎ†¨\r\n                        order: 'desc' // ÎÇ¥Î¶ºÏ∞®Ïàú Ï†ïÎ†¨\r\n                    }\r\n                });\r\n                const playlistTracks = response.data.items.map(item => item.track);\r\n                setTracks(playlistTracks);\r\n            } catch (error) {\r\n                console.error('Error fetching playlist:', error);\r\n            }\r\n        }\r\n\r\n        fetchPlaylist();\r\n    }, [accessToken]);\r\n\r\n    const CLIENT_ID=process.env.REACT_APP_SPOTIFY_CLIENT_ID\r\n    const REDIRECT_URI =process.env.REACT_APP_SPOTIFY_REDIRECT_URI \r\n    const AUTH_ENDPOINT =process.env.REACT_APP_SPOTIFY_AUTH_ENDPOINT \r\n    const RESPONSE_TYPE = process.env.REACT_APP_SPOTIFY_RESPONSE_TYPE\r\n\r\n    const handleLogin = () => {\r\n        // Spotify Î°úÍ∑∏Ïù∏ Ï∞Ω Ïó¥Í∏∞\r\n        window.location.href = `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`;\r\n    };\r\n\r\n    return (\r\n        <Main \r\n            title = \"TOP 50 - Í∏ÄÎ°úÎ≤å\"\r\n            description=\"TOP 50 - Í∏ÄÎ°úÎ≤å\">\r\n            <section id='topPage' className={topClass}>\r\n                <h2>üòõ TOP 50 - Í∏ÄÎ°úÎ≤å</h2>\r\n                {accessToken ? \r\n                    (\r\n                        <div className='video_inner'>\r\n                            {tracks.map((track, index) => (\r\n                                <div className=\"video\" key={index}>\r\n                                    <div className=\"video_thumb play_icon\">\r\n                                        <Link to={`/detail/${track.id}`}>\r\n                                            <img src={track.album.images[0].url} alt=\"Album Cover\" />\r\n                                            <span>\r\n                                                <strong>{track.name}</strong>\r\n                                            </span>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) : (\r\n                        <>\r\n                            <div className=\"video_more\">\r\n                                <button onClick={handleLogin}>ÏùåÏïÖ Î¶¨Ïä§Ìä∏ Î∂àÎü¨Ïò§Í∏∞</button>\r\n                            </div>\r\n                        </>\r\n                    )\r\n                }\r\n            </section>\r\n        </Main>\r\n    );\r\n}\r\n\r\nexport default Top50;"],"names":["props","tracks","setTracks","useState","accessToken","localStorage","getItem","loading","setLoading","useEffect","setTimeout","topClass","async","playlistTracks","axios","get","headers","concat","params","country","limit","sort","order","data","items","map","item","track","error","console","fetchPlaylist","_jsx","Main","title","description","children","_jsxs","id","className","index","Link","to","src","album","images","url","alt","name","_Fragment","onClick","handleLogin","window","location","href","process"],"sourceRoot":""}